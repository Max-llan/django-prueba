{% extends "contactos/base.html" %}
{% block content %}
<h3 class="mb-3"><i class="bi bi-people"></i> Mis contactos</h3>

<form method="get" class="row g-2 mb-4">
  <div class="col-md-6">
    <div class="input-group">
      <span class="input-group-text"><i class="bi bi-search"></i></span>
      <input name="q" value="{{ q }}" class="form-control" placeholder="Buscar por nombre o correo" />
    </div>
  </div>
  <div class="col-auto">
    <button class="btn btn-outline-primary"><i class="bi bi-search"></i> Buscar</button>
    <a href="{% url 'contact_list' %}" class="btn btn-outline-secondary"><i class="bi bi-x-circle"></i> Limpiar</a>
  </div>
</form>

<table class="table table-striped table-hover shadow-sm align-middle">
  <thead class="table-dark">
    <tr>
      <th>Contacto</th>
      <th>Email</th>
      <th>Teléfono</th>
      <th>Dirección</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for c in contacts %}
      <tr>
        <td>
          <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" width="35" class="me-2 rounded-circle border">
          {{ c.nombre }}
        </td>
        <td><i class="bi bi-envelope"></i> {{ c.email }}</td>
        <td><i class="bi bi-telephone"></i> {{ c.telefono }}</td>
        <td><i class="bi bi-house"></i> {{ c.direccion }}</td>
        <td>
          <a class="btn btn-sm btn-outline-secondary" href="{% url 'contact_edit' c.pk %}">
            <i class="bi bi-pencil-square"></i> Editar
          </a>
          <a class="btn btn-sm btn-outline-danger" href="{% url 'contact_delete' c.pk %}">
            <i class="bi bi-trash"></i> Borrar
          </a>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="5" class="text-center text-muted">No hay contactos.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
